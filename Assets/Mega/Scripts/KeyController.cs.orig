using UnityEngine;

namespace Assets.Mega.Scripts {
    public class KeyController : MonoBehaviour {
        private float speedKey = 2;
        private float speedTouch = 0.003f;

        public void Start() {
            //Debug.Log("KeyController LIVE!!!");
        }

        public float i = 0;

        public void Update() {
            float x = 0;
            float y = 0;
            Touch touch = new Touch();
            touch.deltaPosition = Vector2.zero;
            bool flag = false;
            if (Input.GetKey(KeyCode.S)) {
                touch.deltaPosition = new Vector2(-Time.deltaTime * speedKey, touch.deltaPosition.y);
                flag = true;
            }
            if(Input.GetKey(KeyCode.F)) {
                touch.deltaPosition = new Vector2(Time.deltaTime * speedKey, touch.deltaPosition.y);
                flag = true;
            }
            if(Input.GetKey(KeyCode.E)) {
                touch.deltaPosition = new Vector2(touch.deltaPosition.x, Time.deltaTime * speedKey);
                flag = true;
            }
            if(Input.GetKey(KeyCode.D)) {
                touch.deltaPosition = new Vector2(touch.deltaPosition.x, -Time.deltaTime * speedKey);
                flag = true;
            }
            x = touch.deltaPosition.x;
            y = touch.deltaPosition.y;

            if(Input.touchCount > 0) {
                touch = Input.GetTouch(0);
                x = touch.deltaPosition.x * speedTouch;
                y = touch.deltaPosition.y * speedTouch;
                flag = true;
            }
            i += Time.deltaTime;
            if (i > 3) {
                //Debug.Log(Input.touchCount);
                i = 0;
            }

            
            if (flag) {
               // Debug.Log("x = " + touch.deltaPosition.x + " y=" + touch.deltaPosition.y);
                MegaCameraController.inst.MoveFromSwipe(x,y);
            }
            
        }
        
    }
}